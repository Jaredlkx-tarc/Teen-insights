<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>News Not Boring ‚Äî Teen Insights</title>
  <link rel="stylesheet" href="style.css?v=2025-09-01-2200" />
</head>
<body class="news-page"> <!-- ‚úÖ page-level class -->



<header>
  <h1><a href="index.html">Teen Insights</a></h1>
  <!-- Search & Login Icons -->
  <div class="header-icons">
    <button class="icon-btn" id="searchToggle" aria-label="Open search">üîç</button>
    <button class="icon-btn" id="loginToggle" aria-label="Open login">üë§</button>
  </div>

</header>


<div class="layout">
  <!-- Sidebar -->
  <nav class="sidebar" aria-label="News categories">
    <div class="accent-bar"></div> <!-- ‚úÖ page-level accent bar -->
    <h2>News Categories</h2>
    <ul>
        <li><a href="ext-general-news.html" >üì∞ General News</a></li>
      <li><a href="ext-lifestyle.html">üåø Lifestyle</a></li>
      <li><a href="ext-entertainment.html">üé¨ Entertainment</a></li>
      <li><a href="ext-health.html"class="active">üíä Health</a></li>
      <li><a href="ext-rewrite.html">‚úç Re:write</a></li>
      <li><a href="news.html">üìö News Not Boring</a></li>
      <li><a href="index.html">üè† Home</a></li>
    </ul>
  </nav>

  <main id="main" class="content">

    <!-- Breadcrumbs -->
    <nav class="breadcrumbs" aria-label="Breadcrumb">
      <a href="index.html">Home</a> ‚Ä∫
      News Not Boring
    </nav>

    <!-- General News -->
    <div class="accent-bar"></div>
    <section id="general" class="article">
      <h2><a href="ext-general-news.html">General News</a></h2>
      <h3><a href="general-news-article-1.html">Love Hard: Are Malaysians Seeking True Love Through Dating Apps?</a></h3>
      <div class="meta">By <strong>ONG SIOK VOON</strong> | Sept 1, 2025</div>
     <img class="hero-img" src="general-news-article-1-1.png" alt="Survey chart on marriage delay" />
      <p>
        A new survey reveals how young Malaysians really feel about dating apps‚Äîfrom cautious curiosity to quiet optimism. Are these platforms a gateway to genuine connection, or just digital distractions?
        <a href="general-news-article-1.html"class="read-more">Read more‚Ä¶</a>
      </p>
    </section>

    <!-- Lifestyle -->
    <div class="accent-bar"></div>
    <section id="lifestyle" class="article">
      <h2><a href="ext-lifestyle.html">Lifestyle</a></h2>
      <h3><a href="lifestyle-article-1.html">Young Adults Delay Marriage as Finances and Freedom Take Priority</a></h3>
      <div class="meta">By <strong>JARED LEE KAI XUAN</strong> | Aug 28, 2025</div>
      <img class="hero-img" src="images/lifestyle-article-1-4.jpg" alt="Survey chart on marriage delay" />
      <p>
        More young Malaysians are choosing to delay marriage, prioritising stability and independence over tradition.
        <a href="lifestyle-article-1.html"class="read-more">Read more‚Ä¶</a>
      </p>
    </section>

    <!-- Entertainment -->
    <div class="accent-bar"></div>
    <section id="entertainment" class="article">
      <h2><a href="ext-entertainment.html">Entertainment</a></h2>
      <h3><a href="ext-entertainment.html">Art appears in galleries as individuals define their unique opinions</a></h3>
      <div class="meta">By <strong>ONG SIOK VOON</strong> | Aug 12, 2025</div>
      <img class="hero-img portrait"
           src="images/entertainment-article-1.jpeg"
           loading="lazy"
           alt="Young Malaysians enjoying a casual meetup" />
      <p>
        Local artist Danielle of Daniellelinart champions hands‚Äëon creativity and art appreciation, even as she laments Malaysia‚Äôs lukewarm embrace of the arts. From bold self‚Äëexpression to candid visitor critiques, the GMBB gallery reveals how Malaysians ‚Äî and tourists ‚Äî are redefining their relationship with culture.
        <a href="entertainment-article-1.html"class="read-more">Read more‚Ä¶</a>
      </p>
    </section>

    <!-- Health -->
    <div class="accent-bar"></div>
    <section id="health" class="article">
      <h2><a href="ext-health.html">Health</a></h2>
      <h3><a href="health-article-1.html">Stigma on Student Mental Health: A Quick Retrospect </a></h3>
      <div class="meta">By <strong>LEW JIA HUI</strong> | Aug 17, 2025</div>
      <img class="hero-img" src="images/health-article-1-1.png" alt="Health related image" />
      <p>
        In Malaysia, stigma around student mental health still runs deep ‚Äî leaving many afraid to seek help, despite rising stress, anxiety, and calls for change.

        <a href="health-article-1.html"class="read-more">Read more‚Ä¶</a>
      </p>
    </section>

    <!-- Re:write -->
    <div class="accent-bar"></div>
    <section id="rewrite" class="article">
      <h2><a href="ext-rewrite.html">Re:write</a></h2>
      <h3><a href="ext-rewrite.html">Buy Now Pay Later raises Concern over Malaysians Spending Habits</a></h3>
      <div class="meta">Published: Sept 1, 2025</div>
      <img class="hero-img" src="images/rewrite-article-1-2png.png" alt="Creative rewrite related image" />
      <p>
        Easy credit, hidden costs ‚Äî millions of young Malaysians are falling into Buy Now Pay Later debt traps, with unregulated schemes raising fresh concerns. 
        <a href="rewrite-article-1.html"class="read-more">Read more‚Ä¶</a>
      </p>
    </section>

  </main>
</div>

<footer>
  &copy; 2025 Teen Insights
</footer>

<!-- Search Panel -->
<aside class="side-panel search-panel" id="searchPanel">
  <button class="close-btn" aria-label="Close search">‚úñ</button>
  <h2>Search Articles</h2>
  <form id="searchForm">
    <input type="text" name="q" placeholder="Search‚Ä¶" required />
    <button type="submit">Search</button>
  </form>
  <div id="searchResults"></div>
</aside>

<!-- Login Panel -->
<aside class="side-panel login-panel" id="loginPanel">
  <button class="close-btn" aria-label="Close login">‚úñ</button>
  <h2>Member Login</h2>


  <form id="loginForm">
    <div id="g_id_onload"
         data-client_id="25745299454-r65pnid81r42mrcvkiaooujcl759djol.apps.googleusercontent.com"
         data-callback="handleCredentialResponse"
         data-auto_prompt="false">
    </div>

    <div class="g_id_signin"
         data-type="standard"
         data-size="large"
         data-theme="outline"
         data-text="sign_in_with"
         data-shape="rectangular"
         data-logo_alignment="left">
    </div>
  </form>

  <p class="signup-link">
    <a href="#" id="signupLink">Create an account</a>
  </p>
</aside>


<script src="https://accounts.google.com/gsi/client" async defer></script>

<script>
// Panel toggles
const searchToggle = document.getElementById('searchToggle');
const loginToggle = document.getElementById('loginToggle');
const searchPanel = document.getElementById('searchPanel');
const loginPanel = document.getElementById('loginPanel');

document.querySelectorAll('.close-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    searchPanel?.classList.remove('open');
    loginPanel?.classList.remove('open');
  });
});
searchToggle?.addEventListener('click', () => {
  searchPanel?.classList.add('open');
  loginPanel?.classList.remove('open');
});
loginToggle?.addEventListener('click', () => {
  loginPanel?.classList.add('open');
  searchPanel?.classList.remove('open');
});

// Search function
document.getElementById('searchForm')?.addEventListener('submit', function(e) {
  e.preventDefault();
  const query = this.q.value.toLowerCase();
  fetch('articles.json')
    .then(res => res.json())
    .then(data => {
      const results = data.filter(a => a.title.toLowerCase().includes(query));
      document.getElementById('searchResults').innerHTML =
        results.length
          ? results.map(r => `<p><a href="${r.url}">${r.title}</a></p>`).join('')
          : '<p>No results found.</p>';
    })
    .catch(err => {
      console.error('Error loading articles.json', err);
      document.getElementById('searchResults').innerHTML =
        '<p>There was an error loading search results.</p>';
    });
});

// --- Cookie helpers ---
function setCookie(name, value, days) {
  const date = new Date();
  date.setTime(date.getTime() + (days*24*60*60*1000));
  const expires = "expires=" + date.toUTCString();
  document.cookie = `${name}=${value};${expires};path=/`;
}
function getCookie(name) {
  const cname = name + "=";
  const decodedCookie = decodeURIComponent(document.cookie);
  const ca = decodedCookie.split(';');
  for(let i = 0; i < ca.length; i++) {
    let c = ca[i].trim();
    if (c.indexOf(cname) === 0) {
      return c.substring(cname.length, c.length);
    }
  }
  return "";
}
function deleteCookie(name) {
  document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;
}

// --- On page load: check cookie ---
const savedUser = getCookie('loggedInUser');
if (savedUser) {
  document.getElementById('loginForm').innerHTML = `
    <p style="color:green;">‚úÖ Welcome back, ${savedUser}!</p>
    <button id="logoutBtn">Logout</button>
  `;
  document.getElementById('logoutBtn').addEventListener('click', () => {
    deleteCookie('loggedInUser');
    location.reload();
  });
}

// --- Google login callback ---
function handleCredentialResponse(response) {
  const data = parseJwt(response.credential);

  setCookie('loggedInUser', data.name, 7);

  document.getElementById('loginForm').innerHTML = `
    <p style="color:green;">‚úÖ Welcome back, ${data.name}!</p>
    <img src="${data.picture}" alt="Profile Picture" style="max-width:50px;border-radius:50%;">
    <button id="logoutBtn">Logout</button>
  `;

  document.getElementById('logoutBtn').addEventListener('click', () => {
    deleteCookie('loggedInUser');
    location.reload();
  });

  setTimeout(() => {
    loginPanel.classList.remove('open');
  }, 1000);
}

function parseJwt(token) {
  const base64Url = token.split('.')[1];
  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
  const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
  }).join(''));
  return JSON.parse(jsonPayload);
}

// --- Fake sign-up (still works for non-Google accounts) ---
document.getElementById('signupLink').addEventListener('click', function(e) {
  e.preventDefault();
  const username = prompt("Choose a username:");
  const password = prompt("Create a password:");

  if (!username || !password) {
    alert("Please fill in all fields to create an account.");
    return;
  }

  setCookie('loggedInUser', username, 7);
  document.getElementById('loginForm').innerHTML = `
    <p style="color:green;">‚úÖ Account created successfully! Welcome, ${username}!</p>
    <button id="logoutBtn">Logout</button>
  `;
  document.getElementById('logoutBtn').addEventListener('click', () => {
    deleteCookie('loggedInUser');
    location.reload();
  });
  setTimeout(() => {
    loginPanel.classList.remove('open');
  }, 1000);
});
</script>
</body>
</html>
